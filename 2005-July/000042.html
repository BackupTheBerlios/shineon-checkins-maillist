<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Shineon-checkins] ShineOn/NUnit TestClasses.pas,1.1,1.2 TestContnrs.pas,1.1,1.2 TestIniFiles.pas,1.1,1.2 TestSysUtils.pas,1.1,1.2 TestSystem.pas,1.4,1.5
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/shineon-checkins/2005-July/index.html" >
   <LINK REL="made" HREF="mailto:shineon-checkins%40lists.berlios.de?Subject=Re%3A%20%5BShineon-checkins%5D%20ShineOn/NUnit%20TestClasses.pas%2C1.1%2C1.2%20TestContnrs.pas%2C1.1%2C1.2%20TestIniFiles.pas%2C1.1%2C1.2%20TestSysUtils.pas%2C1.1%2C1.2%20TestSystem.pas%2C1.4%2C1.5&In-Reply-To=%3C200507181309.j6ID9YI22676%40bat.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000041.html">
   <LINK REL="Next"  HREF="000043.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Shineon-checkins] ShineOn/NUnit TestClasses.pas,1.1,1.2 TestContnrs.pas,1.1,1.2 TestIniFiles.pas,1.1,1.2 TestSysUtils.pas,1.1,1.2 TestSystem.pas,1.4,1.5</H1>
    <B>peter3</B> 
    <A HREF="mailto:shineon-checkins%40lists.berlios.de?Subject=Re%3A%20%5BShineon-checkins%5D%20ShineOn/NUnit%20TestClasses.pas%2C1.1%2C1.2%20TestContnrs.pas%2C1.1%2C1.2%20TestIniFiles.pas%2C1.1%2C1.2%20TestSysUtils.pas%2C1.1%2C1.2%20TestSystem.pas%2C1.4%2C1.5&In-Reply-To=%3C200507181309.j6ID9YI22676%40bat.berlios.de%3E"
       TITLE="[Shineon-checkins] ShineOn/NUnit TestClasses.pas,1.1,1.2 TestContnrs.pas,1.1,1.2 TestIniFiles.pas,1.1,1.2 TestSysUtils.pas,1.1,1.2 TestSystem.pas,1.4,1.5">nobody at sheep.berlios.de
       </A><BR>
    <I>Mon Jul 18 15:09:34 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000041.html">[Shineon-checkins] ShineOn/ShineOn.RTL Classes.pas,1.12,1.13 Globals.pas,1.6,1.7 IniFiles.pas,1.5,1.6 Types.pas,1.14,1.15
</A></li>
        <LI>Next message: <A HREF="000043.html">[Shineon-checkins] ShineOn/ShineOn.RTL Globals.pas,1.7,1.8 Types.pas,1.15,1.16
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42">[ date ]</a>
              <a href="thread.html#42">[ thread ]</a>
              <a href="subject.html#42">[ subject ]</a>
              <a href="author.html#42">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Update of /cvsroot/shineon/ShineOn/NUnit
In directory sheep:/tmp/cvs-serv31196/NUnit

Modified Files:
	TestClasses.pas TestContnrs.pas TestIniFiles.pas 
	TestSysUtils.pas TestSystem.pas 
Log Message:
- type initializer (cctor) for Globals class has some problems with MinDateTime in Globals, probably because the TDateTime.MinDateTime value converts to an invalid DateTime value. No solution yet. Commented out for the time being. MaxDateTime is still in effect
- TStrings.SaveToFile/LoadFromFile were using wrong share flags
- Setup/TearDown methods decorated with correct attributes (won't be called otherwise)

Index: TestClasses.pas
===================================================================
RCS file: /cvsroot/shineon/ShineOn/NUnit/TestClasses.pas,v
retrieving revision 1.1
retrieving revision 1.2
diff -C2 -d -r1.1 -r1.2
*** TestClasses.pas	31 May 2005 08:38:50 -0000	1.1
--- TestClasses.pas	18 Jul 2005 13:09:31 -0000	1.2
***************
*** 19,23 ****
--- 19,25 ----
    TObjectTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
      [Test]
***************
*** 36,40 ****
--- 38,44 ----
    TListTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 86,90 ****
--- 90,96 ----
    TInterfaceListTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
      [Test]
***************
*** 123,127 ****
--- 129,135 ----
    TBitsTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 137,141 ****
--- 145,151 ----
    TPersistentTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 149,153 ****
--- 159,165 ----
    TStringlistTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 237,241 ****
--- 249,255 ----
    THandleStreamTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 259,263 ****
--- 273,279 ----
    TFileStreamTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 282,286 ****
--- 298,304 ----
    TMemoryStreamTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 315,319 ****
--- 333,339 ----
    TStringStreamTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 342,346 ****
--- 362,368 ----
    TResourceStreamTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 364,368 ****
--- 386,392 ----
    TThreadTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  

Index: TestContnrs.pas
===================================================================
RCS file: /cvsroot/shineon/ShineOn/NUnit/TestContnrs.pas,v
retrieving revision 1.1
retrieving revision 1.2
diff -C2 -d -r1.1 -r1.2
*** TestContnrs.pas	31 May 2005 08:38:50 -0000	1.1
--- TestContnrs.pas	18 Jul 2005 13:09:31 -0000	1.2
***************
*** 19,23 ****
--- 19,25 ----
    TObjectListTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
      [Test]
***************
*** 44,48 ****
--- 46,52 ----
    TComponentListTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 68,72 ****
--- 72,78 ----
    TClassListTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 92,96 ****
--- 98,104 ----
    TStackTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 110,114 ****
--- 118,124 ----
    TObjectStackTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 128,132 ****
--- 138,144 ----
    TQueueTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 146,150 ****
--- 158,164 ----
    TObjectQueueTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  
***************
*** 164,168 ****
--- 178,184 ----
    TBucketListTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
  

Index: TestIniFiles.pas
===================================================================
RCS file: /cvsroot/shineon/ShineOn/NUnit/TestIniFiles.pas,v
retrieving revision 1.1
retrieving revision 1.2
diff -C2 -d -r1.1 -r1.2
*** TestIniFiles.pas	31 May 2005 08:38:50 -0000	1.1
--- TestIniFiles.pas	18 Jul 2005 13:09:31 -0000	1.2
***************
*** 12,15 ****
--- 12,16 ----
  interface
  uses
+   System.IO,
    Nunit.Framework,
    ShineOn.RTL;
***************
*** 18,23 ****
--- 19,30 ----
    [TestFixture]
    TIniFilesTests = public class(TestCase)
+   private
+     FFilename:string;
+     IniFile:TIniFile;
+     method AddSomeData;
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
      [Test]
***************
*** 83,95 ****
  method TIniFilesTests.Setup; 
  begin
  end;
  
  method TIniFilesTests.TearDown; 
  begin
  end;
  
  method TIniFilesTests.Clear; 
  begin
!   NUnit.Framework.Assert.IsTrue(false, 'Not implemented');
  end;
  
--- 90,114 ----
  method TIniFilesTests.Setup; 
  begin
+   FFilename := Path.GetTempPath + 'IniFileTest.ini'; 
+   IniFile := new TIniFile(FFilename);
+   AddSomeData;
  end;
  
  method TIniFilesTests.TearDown; 
  begin
+   IniFile.Free;
+   IniFile := nil;
+   if File.Exists(FFilename) then
+     File.Delete(FFilename);
  end;
  
  method TIniFilesTests.Clear; 
  begin
!   IniFile.Clear;
!   with S := new TStringlist do
!   begin
!     IniFile.ReadSections(S);
!     NUnit.Framework.Assert.AreEqual(0, S.Count);
!  end;
  end;
  
***************
*** 227,230 ****
--- 246,272 ----
  begin
    NUnit.Framework.Assert.IsTrue(false, 'Not implemented');
+ end;
+ 
+ method TIniFilesTests.AddSomeData; 
+ begin
+   IniFile.WriteString('Test','String','TextData');
+ 
+   IniFile.WriteInteger('Test','Int0',0);
+   IniFile.WriteInteger('Test','Int1',1);
+   IniFile.WriteInteger('Test','Int2',-1);
+   IniFile.WriteInteger('Test','Int3',2);
+ 
+   IniFile.WriteBool('Test','BoolTrue',True);
+   IniFile.WriteBool('Test','BoolFalse',False);
+ 
+   //IniFile.WriteDate('Test', 'Date', TDateTime.Date);
+   //IniFile.WriteDateTime('Test', 'Now', TDateTime.Now);
+   //IniFile.WriteTime('Test', 'Time', TDateTime.Time);
+ 
+   IniFile.WriteFloat('Test','Float1',0.0);
+   IniFile.WriteFloat('Test','Float2',1.5);
+   IniFile.WriteFloat('Test','Float3',3.141592);
+   IniFile.WriteFloat('Test','Float4',-1.0);
+   IniFile.WriteFloat('Test','Float4',-0.0);
  end;
  

Index: TestSysUtils.pas
===================================================================
RCS file: /cvsroot/shineon/ShineOn/NUnit/TestSysUtils.pas,v
retrieving revision 1.1
retrieving revision 1.2
diff -C2 -d -r1.1 -r1.2
*** TestSysUtils.pas	31 May 2005 08:38:50 -0000	1.1
--- TestSysUtils.pas	18 Jul 2005 13:09:31 -0000	1.2
***************
*** 19,23 ****
--- 19,25 ----
    SysUtilsTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
      [Test]

Index: TestSystem.pas
===================================================================
RCS file: /cvsroot/shineon/ShineOn/NUnit/TestSystem.pas,v
retrieving revision 1.4
retrieving revision 1.5
diff -C2 -d -r1.4 -r1.5
*** TestSystem.pas	30 Jun 2005 10:26:36 -0000	1.4
--- TestSystem.pas	18 Jul 2005 13:09:31 -0000	1.5
***************
*** 19,23 ****
--- 19,25 ----
    SystemTests = public class(TestCase)
    public
+     [Setup]
      method Setup;override;
+     [TearDown]
      method TearDown;override;
      [Test]


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000041.html">[Shineon-checkins] ShineOn/ShineOn.RTL Classes.pas,1.12,1.13 Globals.pas,1.6,1.7 IniFiles.pas,1.5,1.6 Types.pas,1.14,1.15
</A></li>
	<LI>Next message: <A HREF="000043.html">[Shineon-checkins] ShineOn/ShineOn.RTL Globals.pas,1.7,1.8 Types.pas,1.15,1.16
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42">[ date ]</a>
              <a href="thread.html#42">[ thread ]</a>
              <a href="subject.html#42">[ subject ]</a>
              <a href="author.html#42">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/shineon-checkins">More information about the Shineon-checkins
mailing list</a><br>
</body></html>
