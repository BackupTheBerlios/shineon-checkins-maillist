<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Shineon-checkins] ShineOn/ShineOn.RTL Classes.pas,1.7,1.8 Contnrs.pas,1.3,1.4 Globals.pas,1.2,1.3 IniFiles.pas,1.2,1.3 SysUtils.pas,1.7,1.8 System.pas,1.5,1.6 Types.pas,1.5,1.6
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/shineon-checkins/2005-May/index.html" >
   <LINK REL="made" HREF="mailto:shineon-checkins%40lists.berlios.de?Subject=Re%3A%20%5BShineon-checkins%5D%20ShineOn/ShineOn.RTL%20Classes.pas%2C1.7%2C1.8%20Contnrs.pas%2C1.3%2C1.4%20Globals.pas%2C1.2%2C1.3%20IniFiles.pas%2C1.2%2C1.3%20SysUtils.pas%2C1.7%2C1.8%20System.pas%2C1.5%2C1.6%20Types.pas%2C1.5%2C1.6&In-Reply-To=%3C200505262344.j4QNigm22059%40bat.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000015.html">
   <LINK REL="Next"  HREF="000017.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Shineon-checkins] ShineOn/ShineOn.RTL Classes.pas,1.7,1.8 Contnrs.pas,1.3,1.4 Globals.pas,1.2,1.3 IniFiles.pas,1.2,1.3 SysUtils.pas,1.7,1.8 System.pas,1.5,1.6 Types.pas,1.5,1.6</H1>
    <B>peter3</B> 
    <A HREF="mailto:shineon-checkins%40lists.berlios.de?Subject=Re%3A%20%5BShineon-checkins%5D%20ShineOn/ShineOn.RTL%20Classes.pas%2C1.7%2C1.8%20Contnrs.pas%2C1.3%2C1.4%20Globals.pas%2C1.2%2C1.3%20IniFiles.pas%2C1.2%2C1.3%20SysUtils.pas%2C1.7%2C1.8%20System.pas%2C1.5%2C1.6%20Types.pas%2C1.5%2C1.6&In-Reply-To=%3C200505262344.j4QNigm22059%40bat.berlios.de%3E"
       TITLE="[Shineon-checkins] ShineOn/ShineOn.RTL Classes.pas,1.7,1.8 Contnrs.pas,1.3,1.4 Globals.pas,1.2,1.3 IniFiles.pas,1.2,1.3 SysUtils.pas,1.7,1.8 System.pas,1.5,1.6 Types.pas,1.5,1.6">nobody at sheep.berlios.de
       </A><BR>
    <I>Fri May 27 01:44:42 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000015.html">[Shineon-checkins] ShineOn/ShineOn.RTL Globals.pas,1.1,1.2
</A></li>
        <LI>Next message: <A HREF="000017.html">[Shineon-checkins] ShineOn/ShineOn.RTL Classes.pas,1.8,1.9 Globals.pas,1.3,1.4 SysUtils.pas,1.8,1.9 System.pas,1.6,1.7 Types.pas,1.6,1.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16">[ date ]</a>
              <a href="thread.html#16">[ thread ]</a>
              <a href="subject.html#16">[ subject ]</a>
              <a href="author.html#16">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Update of /cvsroot/shineon/ShineOn/ShineOn.RTL
In directory sheep:/tmp/cvs-serv23719/ShineOn.RTL

Modified Files:
	Classes.pas Contnrs.pas Globals.pas IniFiles.pas SysUtils.pas 
	System.pas Types.pas 
Log Message:
- Added overloaded constructors to TThread so user can choose either a thread, control or a form to synch against
- Removed useless const parameters for strings
- Moved some missing consts to Globals

Index: Classes.pas
===================================================================
RCS file: /cvsroot/shineon/ShineOn/ShineOn.RTL/Classes.pas,v
retrieving revision 1.7
retrieving revision 1.8
diff -C2 -d -r1.7 -r1.8
*** Classes.pas	26 May 2005 14:30:08 -0000	1.7
--- Classes.pas	26 May 2005 23:44:35 -0000	1.8
***************
*** 77,81 ****
    public
      constructor Create;
!     class procedure Error(const Msg: string; Data: Integer); 
      function Add(Item: Object): Integer;
      procedure Clear; virtual;
--- 77,81 ----
    public
      constructor Create;
!     class procedure Error(Msg: string; Data: Integer); 
      function Add(Item: Object): Integer;
      procedure Clear; virtual;
***************
*** 213,222 ****
      FDelimiter, FQuoteChar:Char;
      function GetCommaText:string;
!     procedure SetCommaText(const Value:string);
      function GetName(Index:Integer):string;
!     function GetValue(const Name:string):string;
!     procedure SetValue(const Name, Value:string);
      function GetDelimitedText:string;
!     procedure SetDelimitedText(const Value:string);
      procedure SetStringsAdapter(const Value:IStringsAdapter);
    protected
--- 213,222 ----
      FDelimiter, FQuoteChar:Char;
      function GetCommaText:string;
!     procedure SetCommaText(Value:string);
      function GetName(Index:Integer):string;
!     function GetValue(Name:string):string;
!     procedure SetValue(Name, Value:string);
      function GetDelimitedText:string;
!     procedure SetDelimitedText(Value:string);
      procedure SetStringsAdapter(const Value:IStringsAdapter);
    protected
***************
*** 226,235 ****
      function GetObject(Index: Integer): Object; virtual; abstract;
      function GetTextStr: string; virtual;
!     procedure Put(Index: Integer; const S: string); virtual; abstract;
      procedure PutObject(Index: Integer; AObject: Object); virtual; abstract;
      procedure SetCapacity(NewCapacity: Integer); virtual;
!     procedure SetTextStr(const Value: string); virtual;
      property UpdateCount: Integer read FUpdateCount;
!     function CompareStrings(const S1, S2: string): Integer; virtual;
      function CompareObjects(O1, O2: Object): Integer; virtual;
      procedure Changed; virtual;
--- 226,235 ----
      function GetObject(Index: Integer): Object; virtual; abstract;
      function GetTextStr: string; virtual;
!     procedure Put(Index: Integer; S: string); virtual; abstract;
      procedure PutObject(Index: Integer; AObject: Object); virtual; abstract;
      procedure SetCapacity(NewCapacity: Integer); virtual;
!     procedure SetTextStr(Value: string); virtual;
      property UpdateCount: Integer read FUpdateCount;
!     function CompareStrings(S1, S2: string): Integer; virtual;
      function CompareObjects(O1, O2: Object): Integer; virtual;
      procedure Changed; virtual;
***************
*** 237,243 ****
    public
      constructor Create;
!     function Add(const S: string): Integer; virtual;
!     function AddObject(const S: string; AObject: Object): Integer; virtual;
!     procedure Append(const S: string);
      procedure AddStrings(Strings: TStrings); virtual;
      procedure Assign(Source: TPersistent); override;
--- 237,243 ----
    public
      constructor Create;
!     function Add(S: string): Integer; virtual;
!     function AddObject(S: string; AObject: Object): Integer; virtual;
!     procedure Append(S: string);
      procedure AddStrings(Strings: TStrings); virtual;
      procedure Assign(Source: TPersistent); override;
***************
*** 249,263 ****
      procedure Exchange(Index1, Index2: Integer); virtual;
      function GetText: String; virtual;
!     function IndexOf(const S: string): Integer; virtual;
!     function IndexOfName(const Name: string): Integer; virtual;
      function IndexOfObject(AObject: Object): Integer; virtual;
!     procedure Insert(Index: Integer; const S: string); virtual; abstract;
!     procedure InsertObject(Index: Integer; const S: string; AObject: Object); virtual;
!     procedure LoadFromFile(const FileName: string); virtual;
      procedure LoadFromStream(Stream: TStream); virtual;
      procedure Move(CurIndex, NewIndex: Integer); virtual;
!     procedure SaveToFile(const FileName: string); virtual;
      procedure SaveToStream(Stream: TStream); virtual;
!     procedure SetText(const Text: String); virtual;
      property Capacity: Integer read GetCapacity write SetCapacity;
      property CommaText: string read GetCommaText write SetCommaText;
--- 249,263 ----
      procedure Exchange(Index1, Index2: Integer); virtual;
      function GetText: String; virtual;
!     function IndexOf(S: string): Integer; virtual;
!     function IndexOfName(Name: string): Integer; virtual;
      function IndexOfObject(AObject: Object): Integer; virtual;
!     procedure Insert(Index: Integer; S: string); virtual; abstract;
!     procedure InsertObject(Index: Integer; S: string; AObject: Object); virtual;
!     procedure LoadFromFile(FileName: string); virtual;
      procedure LoadFromStream(Stream: TStream); virtual;
      procedure Move(CurIndex, NewIndex: Integer); virtual;
!     procedure SaveToFile(FileName: string); virtual;
      procedure SaveToStream(Stream: TStream); virtual;
!     procedure SetText(Text: String); virtual;
      property Capacity: Integer read GetCapacity write SetCapacity;
      property CommaText: string read GetCommaText write SetCommaText;
***************
*** 287,291 ****
      function GetCount: Integer; override;
      function GetObject(Index: Integer): Object; override;
!     procedure Put(Index: Integer; const S: string); override;
      procedure PutObject(Index: Integer; AObject: Object); override;
      procedure SetCapacity(NewCapacity: Integer); override;
--- 287,291 ----
      function GetCount: Integer; override;
      function GetObject(Index: Integer): Object; override;
!     procedure Put(Index: Integer; S: string); override;
      procedure PutObject(Index: Integer; AObject: Object); override;
      procedure SetCapacity(NewCapacity: Integer); override;
***************
*** 296,308 ****
    public
      constructor Create;
!     function CompareStrings(const S1, S2: string): Integer; override;
      // destructor Destroy;override;
      procedure Clear; override;
      procedure Delete(Index: Integer); override;
      procedure Exchange(Index1, Index2: Integer); override;
!     function Find(const S: string; var Index: Integer): Boolean; virtual;
!     function IndexOf(const S: string): Integer; override;
!     procedure InsertObject(Index: Integer; const S: string; AObject: Object); override;
!     procedure Insert(Index: Integer; const S: string);override;
      procedure Sort; virtual;
      procedure CustomSort(Compare: TStringListSortCompare); virtual;
--- 296,308 ----
    public
      constructor Create;
!     function CompareStrings(S1, S2: string): Integer; override;
      // destructor Destroy;override;
      procedure Clear; override;
      procedure Delete(Index: Integer); override;
      procedure Exchange(Index1, Index2: Integer); override;
!     function Find(S: string; var Index: Integer): Boolean; virtual;
!     function IndexOf(S: string): Integer; override;
!     procedure InsertObject(Index: Integer; S: string; AObject: Object); override;
!     procedure Insert(Index: Integer; S: string);override;
      procedure Sort; virtual;
      procedure CustomSort(Compare: TStringListSortCompare); virtual;
***************
*** 321,325 ****
    assembly or protected
      function ReadLine:string;virtual;abstract;
!     procedure WriteLine(const Value:string);virtual;abstract;
    protected
      procedure SetSize(const NewSize: Int64); virtual;abstract;
--- 321,325 ----
    assembly or protected
      function ReadLine:string;virtual;abstract;
!     procedure WriteLine(Value:string);virtual;abstract;
    protected
      procedure SetSize(const NewSize: Int64); virtual;abstract;
***************
*** 335,342 ****
      function ReadComponentRes(Instance: TComponent): TComponent;
      procedure WriteComponent(Instance: TComponent);
!     procedure WriteComponentRes(const ResName: string; Instance: TComponent);
      procedure WriteDescendent(Instance, Ancestor: TComponent); 
!     procedure WriteDescendentRes(const ResName: string; Instance, Ancestor: TComponent);
!     procedure WriteResourceHeader(const ResName: string; out FixupInfo: Integer);
      procedure FixupResourceHeader(FixupInfo: Integer);
      procedure ReadResHeader;
--- 335,342 ----
      function ReadComponentRes(Instance: TComponent): TComponent;
      procedure WriteComponent(Instance: TComponent);
!     procedure WriteComponentRes(ResName: string; Instance: TComponent);
      procedure WriteDescendent(Instance, Ancestor: TComponent); 
!     procedure WriteDescendentRes(ResName: string; Instance, Ancestor: TComponent);
!     procedure WriteResourceHeader(ResName: string; out FixupInfo: Integer);
      procedure FixupResourceHeader(FixupInfo: Integer);
      procedure ReadResHeader;
***************
*** 359,363 ****
    assembly or protected
      function ReadLine:string;override;
!     procedure WriteLine(const Value:string);override;
    public
      constructor Create(AHandle: Integer);
--- 359,363 ----
    assembly or protected
      function ReadLine:string;override;
!     procedure WriteLine(Value:string);override;
    public
      constructor Create(AHandle: Integer);
***************
*** 371,376 ****
    TFileStream = public class(THandleStream)
    public
!     constructor Create(const FileName: string; Mode: Word); 
!     constructor Create(const FileName: string; Mode: Word; Rights: Cardinal); 
    end;
    
--- 371,376 ----
    TFileStream = public class(THandleStream)
    public
!     constructor Create(FileName: string; Mode: Word); 
!     constructor Create(FileName: string; Mode: Word; Rights: Cardinal); 
    end;
    
***************
*** 388,392 ****
      function Seek(Offset: Int64; Origin: TSeekOrigin): Int64; override;
      procedure SaveToStream(Stream: TStream);
!     procedure SaveToFile(const FileName: string);
      procedure Destroy;override;
      property Memory: array of byte read GetMemory;
--- 388,392 ----
      function Seek(Offset: Int64; Origin: TSeekOrigin): Int64; override;
      procedure SaveToStream(Stream: TStream);
!     procedure SaveToFile(FileName: string);
      procedure Destroy;override;
      property Memory: array of byte read GetMemory;
***************
*** 401,409 ****
      property Capacity: Longint read GetCapacity write SetCapacity;
    assembly or protected
!     procedure WriteLine(const Value:string);override;
    public
      procedure Clear;
      procedure LoadFromStream(Stream: TStream);
!     procedure LoadFromFile(const FileName: string);
      function Write(const Buffer:array of byte; Count: Longint): Longint; override;
    end;
--- 401,409 ----
      property Capacity: Longint read GetCapacity write SetCapacity;
    assembly or protected
!     procedure WriteLine(Value:string);override;
    public
      procedure Clear;
      procedure LoadFromStream(Stream: TStream);
!     procedure LoadFromFile(FileName: string);
      function Write(const Buffer:array of byte; Count: Longint): Longint; override;
    end;
***************
*** 418,429 ****
    assembly or protected
      function ReadLine:string;override;
!     procedure WriteLine(const Value:string);override;
    public
!     constructor Create(const AString: string);
      function Read(var Buffer:array of byte; Count: Longint): Longint; override;
      function ReadString(Count: Longint): string;
      function Seek(Offset: Int64; Origin: TSeekOrigin): Int64; override;
      function Write(const Buffer:array of byte; Count: Longint): Longint; override;
!     procedure WriteString(const AString: string);
      property DataString: string read GetDataString;
    end;
--- 418,429 ----
    assembly or protected
      function ReadLine:string;override;
!     procedure WriteLine(Value:string);override;
    public
!     constructor Create(AString: string);
      function Read(var Buffer:array of byte; Count: Longint): Longint; override;
      function ReadString(Count: Longint): string;
      function Seek(Offset: Int64; Origin: TSeekOrigin): Int64; override;
      function Write(const Buffer:array of byte; Count: Longint): Longint; override;
!     procedure WriteString(AString: string);
      property DataString: string read GetDataString;
    end;
***************
*** 436,442 ****
    assembly or protected
      function ReadLine:string;override;
!     procedure WriteLine(const Value:string);override;
    public
!     constructor Create(Instance: THandle; const ResName: string; ResType: String);
      // chrome doesn't support constructors not named &quot;Create&quot;
      class function CreateFromID(Instance: THandle; ResID: Integer; ResType: String):TResourceStream;
--- 436,442 ----
    assembly or protected
      function ReadLine:string;override;
!     procedure WriteLine(Value:string);override;
    public
!     constructor Create(Instance: THandle; ResName: string; ResType: String);
      // chrome doesn't support constructors not named &quot;Create&quot;
      class function CreateFromID(Instance: THandle; ResID: Integer; ResType: String):TResourceStream;
***************
*** 483,486 ****
--- 483,487 ----
  
    TThreadMethod = public procedure of object;
+   TThreadMethodWithArgs = public procedure (Args:array of Object) of object;
  
    TThreadPriority = public (Idle, Lowest, Lower, Normal, Higher, Highest, TimeCritical);
***************
*** 489,493 ****
    TThread = public class
    private
!     FThread:Thread;
      FReturnValue:Integer;
      FFatalException:Object;
--- 490,496 ----
    TThread = public class
    private
!     FThread, FSynchThread:Thread;
!     FSynchForm:Form;
!     FSynchControl:Control;
      FReturnValue:Integer;
      FFatalException:Object;
***************
*** 510,513 ****
--- 513,520 ----
    public
      constructor Create(CreateSuspended: Boolean);
+     constructor Create(CreateSuspended: Boolean; SynchThread:Thread);
+     constructor Create(CreateSuspended: Boolean; SynchControl:Control);
+     constructor Create(CreateSuspended: Boolean; SynchForm:Form);
+     
      procedure Resume;
      procedure Suspend;
***************
*** 528,531 ****
--- 535,539 ----
  implementation
  
+ 
  function RTLStreamToDotNetStream(AStream:TStream):System.IO.Stream;
  var 
***************
*** 566,570 ****
  procedure TObject.Free;
  begin
!   if Self &lt;&gt; nil then Destroy;
  end;    
  
--- 574,579 ----
  procedure TObject.Free;
  begin
!   if Self &lt;&gt; nil then 
!     Destroy;
  end;    
  
***************
*** 595,599 ****
  
  function TStringlistSortCompareWrapper.Compare(X,Y:Object):Integer;
!   function FindItem(const S:String):Integer;
    begin
      for Result := 0 to FStrings.Count - 1 do
--- 604,608 ----
  
  function TStringlistSortCompareWrapper.Compare(X,Y:Object):Integer;
!   function FindItem(S:String):Integer;
    begin
      for Result := 0 to FStrings.Count - 1 do
***************
*** 629,633 ****
  end;
  
! procedure TList.SetCapacity(const Value:integer);
  begin
    FList.Capacity := Value;
--- 638,642 ----
  end;
  
! procedure TList.SetCapacity(Value:integer);
  begin
    FList.Capacity := Value;
***************
*** 639,643 ****
  end;
  
! procedure TList.SetCount(const Value:integer);
  var
    I: Integer;
--- 648,652 ----
  end;
  
! procedure TList.SetCount(Value:integer);
  var
    I: Integer;
***************
*** 662,666 ****
  end;
  
! procedure TList.Put(Index:integer; const Value:Object);
  var Temp:Object;
  begin
--- 671,675 ----
  end;
  
! procedure TList.Put(Index:integer; Value:Object);
  var Temp:Object;
  begin
***************
*** 689,693 ****
  end;
  
! class procedure TList.Error(const Msg: string; Data: Integer); 
  begin
    raise EListError.Create(string.Format(Msg, Data));
--- 698,702 ----
  end;
  
! class procedure TList.Error(Msg: string; Data: Integer); 
  begin
    raise EListError.Create(string.Format(Msg, Data));
***************
*** 1227,1231 ****
  end;
  
! procedure TStrings.SetCommaText(const Value:string);
  var ASep, AQuote:Char;
  begin
--- 1236,1240 ----
  end;
  
! procedure TStrings.SetCommaText(Value:string);
  var ASep, AQuote:Char;
  begin
***************
*** 1253,1257 ****
  end;
  
! function TStrings.GetValue(const Name:string):string;
  var i:integer;
  begin
--- 1262,1266 ----
  end;
  
! function TStrings.GetValue(Name:string):string;
  var i:integer;
  begin
***************
*** 1263,1267 ****
  end;
  
! procedure TStrings.SetValue(const Name, Value:string);
  var i:integer;
  begin
--- 1272,1276 ----
  end;
  
! procedure TStrings.SetValue(Name, Value:string);
  var i:integer;
  begin
***************
*** 1293,1297 ****
  end;
  
! procedure TStrings.SetDelimitedText(const Value:string);
  begin
    Clear;
--- 1302,1306 ----
  end;
  
! procedure TStrings.SetDelimitedText(Value:string);
  begin
    Clear;
***************
*** 1335,1339 ****
  end;
  
! procedure TStrings.SetTextStr(const Value: string); 
  var S:String;
  begin
--- 1344,1348 ----
  end;
  
! procedure TStrings.SetTextStr(Value: string); 
  var S:String;
  begin
***************
*** 1352,1356 ****
  end;
  
! function TStrings.CompareStrings(const S1, S2: string): Integer; 
  begin
    Result := AnsiCompareText(S1, S2);
--- 1361,1365 ----
  end;
  
! function TStrings.CompareStrings(S1, S2: string): Integer; 
  begin
    Result := AnsiCompareText(S1, S2);
***************
*** 1377,1386 ****
  end;
  
! function TStrings.Add(const S: string): Integer; 
  begin
    Result := AddObject(S, nil);
  end;
  
! function TStrings.AddObject(const S: string; AObject: Object): Integer; 
  begin
    Result := Count;
--- 1386,1395 ----
  end;
  
! function TStrings.Add(S: string): Integer; 
  begin
    Result := AddObject(S, nil);
  end;
  
! function TStrings.AddObject(S: string; AObject: Object): Integer; 
  begin
    Result := Count;
***************
*** 1388,1392 ****
  end;
  
! procedure TStrings.Append(const S: string);
  begin
    Add(S);
--- 1397,1401 ----
  end;
  
! procedure TStrings.Append(S: string);
  begin
    Add(S);
***************
*** 1466,1475 ****
  end;
  
! procedure TStrings.SetText(const Text: String); 
  begin
    SetTextStr(Text);
  end;
  
! function TStrings.IndexOf(const S: string): Integer; 
  begin
    for Result := 0 to Count -1 do
--- 1475,1484 ----
  end;
  
! procedure TStrings.SetText(Text: String); 
  begin
    SetTextStr(Text);
  end;
  
! function TStrings.IndexOf(S: string): Integer; 
  begin
    for Result := 0 to Count -1 do
***************
*** 1479,1483 ****
  end;
  
! function TStrings.IndexOfName(const Name: string): Integer; 
  var 
    AName:string;
--- 1488,1492 ----
  end;
  
! function TStrings.IndexOfName(Name: string): Integer; 
  var 
    AName:string;
***************
*** 1505,1509 ****
  end;
  
! procedure TStrings.InsertObject(Index: Integer; const S: string; AObject: Object); 
  begin
    Insert(Index, S);
--- 1514,1518 ----
  end;
  
! procedure TStrings.InsertObject(Index: Integer; S: string; AObject: Object); 
  begin
    Insert(Index, S);
***************
*** 1511,1515 ****
  end;
  
! procedure TStrings.LoadFromFile(const FileName: string); 
  var F:TFileStream;
  begin
--- 1520,1524 ----
  end;
  
! procedure TStrings.LoadFromFile(FileName: string); 
  var F:TFileStream;
  begin
***************
*** 1546,1550 ****
  end;
  
! procedure TStrings.SaveToFile(const FileName: string); 
  var F:TFileStream;
  begin
--- 1555,1559 ----
  end;
  
! procedure TStrings.SaveToFile(FileName: string); 
  var F:TFileStream;
  begin
***************
*** 1592,1596 ****
  end;
  
! procedure TStringlist.Put(Index: Integer; const S: string); 
  begin
    if CompareStrings(TStringItem(FStrings[Index]).AString,S) &lt;&gt; 0 then
--- 1601,1605 ----
  end;
  
! procedure TStringlist.Put(Index: Integer; S: string); 
  begin
    if CompareStrings(TStringItem(FStrings[Index]).AString,S) &lt;&gt; 0 then
***************
*** 1617,1621 ****
  end;
  
! function TStringlist.CompareStrings(const S1, S2: string): Integer; 
  begin
    if CaseSensitive then
--- 1626,1630 ----
  end;
  
! function TStringlist.CompareStrings(S1, S2: string): Integer; 
  begin
    if CaseSensitive then
***************
*** 1682,1686 ****
  end;
  
! function TStringlist.Find(const S: string; var Index: Integer): Boolean; 
  begin
    //TODO: implement binary search once sorting is implemented;
--- 1691,1695 ----
  end;
  
! function TStringlist.Find(S: string; var Index: Integer): Boolean; 
  begin
    //TODO: implement binary search once sorting is implemented;
***************
*** 1693,1697 ****
  end;
  
! function TStringlist.IndexOf(const S: string): Integer; 
  begin
    if not Sorted then 
--- 1702,1706 ----
  end;
  
! function TStringlist.IndexOf(S: string): Integer; 
  begin
    if not Sorted then 
***************
*** 1702,1711 ****
  end;
  
! procedure TStringlist.Insert(Index: Integer; const S: string); 
  begin
    InsertObject(Index, S, nil);
  end;
  
! procedure TStringlist.InsertObject(Index: Integer; const S: string; AObject: Object); 
  var AItem:TStringItem;
  begin
--- 1711,1720 ----
  end;
  
! procedure TStringlist.Insert(Index: Integer; S: string); 
  begin
    InsertObject(Index, S, nil);
  end;
  
! procedure TStringlist.InsertObject(Index: Integer; S: string; AObject: Object); 
  var AItem:TStringItem;
  begin
***************
*** 1807,1811 ****
  end;
  
! procedure TStream.WriteComponentRes(const ResName: string; Instance: TComponent);
  begin
    NotImplemented;
--- 1816,1820 ----
  end;
  
! procedure TStream.WriteComponentRes(ResName: string; Instance: TComponent);
  begin
    NotImplemented;
***************
*** 1817,1826 ****
  end;
  
! procedure TStream.WriteDescendentRes(const ResName: string; Instance, Ancestor: TComponent);
  begin
    NotImplemented;
  end;
  
! procedure TStream.WriteResourceHeader(const ResName: string; out FixupInfo: Integer);
  begin
    NotImplemented;
--- 1826,1835 ----
  end;
  
! procedure TStream.WriteDescendentRes(ResName: string; Instance, Ancestor: TComponent);
  begin
    NotImplemented;
  end;
  
! procedure TStream.WriteResourceHeader(ResName: string; out FixupInfo: Integer);
  begin
    NotImplemented;
***************
*** 1844,1848 ****
  end;
  
! procedure THandleStream.SetSize(const NewSize: Int64); 
  begin
    FStream.SetLength(NewSize);
--- 1853,1857 ----
  end;
  
! procedure THandleStream.SetSize(NewSize: Int64); 
  begin
    FStream.SetLength(NewSize);
***************
*** 1894,1898 ****
  end;
  
! procedure THandleStream.WriteLine(const Value:string); 
  begin
    with T:System.IO.StreamWriter := System.IO.StreamWriter(FStream) do
--- 1903,1907 ----
  end;
  
! procedure THandleStream.WriteLine(Value:string); 
  begin
    with T:System.IO.StreamWriter := System.IO.StreamWriter(FStream) do
***************
*** 1903,1907 ****
  { TFileStream }
  
! constructor TFileStream.Create(const FileName: string; Mode: Word); 
  begin
    Create(Filename , Mode, 0);
--- 1912,1916 ----
  { TFileStream }
  
! constructor TFileStream.Create(FileName: string; Mode: Word); 
  begin
    Create(Filename , Mode, 0);
***************
*** 1909,1913 ****
  
  
! constructor TFileStream.Create(const FileName: string; Mode: Word; Rights: Cardinal); 
  var 
    FileMode:System.IO.FileMode;
--- 1918,1922 ----
  
  
! constructor TFileStream.Create(FileName: string; Mode: Word; Rights: Cardinal); 
  var 
    FileMode:System.IO.FileMode;
***************
*** 1986,1990 ****
  end;
  
! procedure TCustomMemoryStream.SaveToFile(const FileName: string);
  var F:TFileStream;
  begin
--- 1995,1999 ----
  end;
  
! procedure TCustomMemoryStream.SaveToFile(FileName: string);
  var F:TFileStream;
  begin
***************
*** 2026,2030 ****
  end;
  
! procedure TMemoryStream.WriteLine(const Value:string);
  begin
    with T:System.IO.StreamWriter := System.IO.StreamWriter(FStream) do
--- 2035,2039 ----
  end;
  
! procedure TMemoryStream.WriteLine(Value:string);
  begin
    with T:System.IO.StreamWriter := System.IO.StreamWriter(FStream) do
***************
*** 2043,2047 ****
  end;
  
! procedure TMemoryStream.LoadFromFile(const FileName: string);
  var f:TFIleStream;
  begin
--- 2052,2056 ----
  end;
  
! procedure TMemoryStream.LoadFromFile(FileName: string);
  var f:TFIleStream;
  begin
***************
*** 2075,2079 ****
  end;
  
! constructor TStringStream.Create(const AString: string);
  begin
    inherited Create;
--- 2084,2088 ----
  end;
  
! constructor TStringStream.Create(AString: string);
  begin
    inherited Create;
***************
*** 2121,2125 ****
  end;
  
! procedure TStringStream.WriteString(const AString: string);
  begin
    if AString &lt;&gt; '' then
--- 2130,2134 ----
  end;
  
! procedure TStringStream.WriteString(AString: string);
  begin
    if AString &lt;&gt; '' then
***************
*** 2142,2146 ****
  end;
  
! procedure TStringStream.WriteLine(const Value:string); 
  begin
    WriteString(Value);
--- 2151,2155 ----
  end;
  
! procedure TStringStream.WriteLine(Value:string); 
  begin
    WriteString(Value);
***************
*** 2149,2153 ****
  { TResourceStream }
  
! constructor TResourceStream.Create(Instance: THandle; const ResName: string; ResType: String);
  begin
    inherited Create;
--- 2158,2162 ----
  { TResourceStream }
  
! constructor TResourceStream.Create(Instance: THandle; ResName: string; ResType: String);
  begin
    inherited Create;
***************
*** 2179,2183 ****
  end;
  
! procedure TResourceStream.WriteLine(const Value:string); 
  begin
    raise EStreamError.Create(SCantWriteResourceStreamError);
--- 2188,2192 ----
  end;
  
! procedure TResourceStream.WriteLine(Value:string); 
  begin
    raise EStreamError.Create(SCantWriteResourceStreamError);
***************
*** 2249,2262 ****
  procedure TThread.Synchronize(AMethod: TThreadMethod);
  begin
!   with Form:Form := ApplicationMainForm do
    begin
!     if Form = nil then
!       Form := Form.ActiveForm; // user hasn't set the global ApplicationMainForm variable, so check if there is another active form
!     if Form = nil then
!       raise EThread.Create('Cannot call TThread.Synchronize without an active form');
!     Form.Invoke(AMethod);  
!   end;
  end;
  
  constructor TThread.Create(CreateSuspended: Boolean);
  begin
--- 2258,2282 ----
  procedure TThread.Synchronize(AMethod: TThreadMethod);
  begin
!   if FThread &lt;&gt; nil then
    begin
!     FThread.Join();
!     AMethod();
!   end
!   else if FSynchControl &lt;&gt; nil then
!     FSynchControl.Invoke(AMethod)
!   else if FSynchForm &lt;&gt; nil then
!     FSynchForm.Invoke(AMethod)
!   else 
!     with Form:Form := ApplicationMainForm do
!     begin
!       if Form = nil then
!         Form := Form.ActiveForm; // user hasn't set the global ApplicationMainForm variable, so check if there is another active form
!       if Form = nil then
!        raise EThread.Create('Cannot call TThread.Synchronize without an active form, control or thread');
!       Form.Invoke(AMethod);  
!     end;
  end;
  
+ 
  constructor TThread.Create(CreateSuspended: Boolean);
  begin
***************
*** 2265,2268 ****
--- 2285,2306 ----
    if not CreateSuspended then
      FThread.Start;
+ end;
+ 
+ constructor TThread.Create(CreateSuspended: Boolean; SynchThread:Thread);
+ begin
+   Create(CreateSuspended);
+   FSynchThread := SynchThread;
+ end;
+ 
+ constructor TThread.Create(CreateSuspended: Boolean; SynchControl:Control);
+ begin
+   Create(CreateSuspended);
+   FSynchControl := SynchControl;
+ end;
+ 
+ constructor TThread.Create(CreateSuspended: Boolean; SynchForm:Form);
+ begin
+   Create(CreateSuspended);
+   FSynchForm := SynchForm;
  end;
  

Index: Contnrs.pas
===================================================================
RCS file: /cvsroot/shineon/ShineOn/ShineOn.RTL/Contnrs.pas,v
retrieving revision 1.3
retrieving revision 1.4
diff -C2 -d -r1.3 -r1.4
*** Contnrs.pas	16 May 2005 22:05:36 -0000	1.3
--- Contnrs.pas	26 May 2005 23:44:35 -0000	1.4
***************
*** 154,166 ****
    TBucketListSizes = public (BucketSize2, BucketSize4, BucketSize8, BucketSize16, BucketSize32, BucketSize64, BucketSize128, BucketSize256);
    
- const  
-   bl2 = TBucketListSizes.BucketSize2;
-   bl4 = TBucketListSizes.BucketSize4;
-   bl8 = TBucketListSizes.BucketSize8;
-   bl16 = TBucketListSizes.BucketSize16;
-   bl32 = TBucketListSizes.BucketSize32;
-   bl64 = TBucketListSizes.BucketSize64;
-   bl128 = TBucketListSizes.BucketSize128;
-   bl256 = TBucketListSizes.BucketSize256;
    
  type
--- 154,157 ----

Index: Globals.pas
===================================================================
RCS file: /cvsroot/shineon/ShineOn/ShineOn.RTL/Globals.pas,v
retrieving revision 1.2
retrieving revision 1.3
diff -C2 -d -r1.2 -r1.3
*** Globals.pas	26 May 2005 23:41:27 -0000	1.2
--- Globals.pas	26 May 2005 23:44:35 -0000	1.3
***************
*** 95,98 ****
--- 95,106 ----
      class const tpHighest = TThreadPriority.Highest;
      class const tpTimeCritical = TThreadPriority.TimeCritical;
+     class const bl2 = TBucketListSizes.BucketSize2;
+     class const bl4 = TBucketListSizes.BucketSize4;
+     class const bl8 = TBucketListSizes.BucketSize8;
+     class const bl16 = TBucketListSizes.BucketSize16;
+     class const bl32 = TBucketListSizes.BucketSize32;
+     class const bl64 = TBucketListSizes.BucketSize64;
+     class const bl128 = TBucketListSizes.BucketSize128;
+     class const bl256 = TBucketListSizes.BucketSize256;
    end;
  
***************
*** 188,191 ****
--- 196,208 ----
    tpHighest = Globals.tpHighest;
    tpTimeCritical = Globals.tpTimeCritical;
+ 
+   bl2 = Globals.bl2;
+   bl4 = Globals.bl4;
+   bl8 = Globals.bl8;
+   bl16 = Globals.bl16;
+   bl32 = Globals.bl32;
+   bl64 = Globals.bl64;
+   bl128 = Globals.bl128;
+   bl256 = Globals.bl256;
   
  var

Index: IniFiles.pas
===================================================================
RCS file: /cvsroot/shineon/ShineOn/ShineOn.RTL/IniFiles.pas,v
retrieving revision 1.2
retrieving revision 1.3
diff -C2 -d -r1.2 -r1.3
*** IniFiles.pas	25 Apr 2005 17:51:44 -0000	1.2
--- IniFiles.pas	26 May 2005 23:44:35 -0000	1.3
***************
*** 20,48 ****
      FFileName: string;
    public
!     constructor Create(const FileName: string);
!     function SectionExists(const Section: string): Boolean;
!     function ReadString(const Section, Name, Default: string): string; virtual; abstract;
!     procedure WriteString(const Section, Name, Value: String); virtual; abstract;
!     function ReadInteger(const Section, Name: string; Default: Longint): Longint; virtual;
!     procedure WriteInteger(const Section, Name: string; Value: Longint); virtual;
!     function ReadBool(const Section, Name: string; Default: Boolean): Boolean; virtual;
!     procedure WriteBool(const Section, Name: string; Value: Boolean); virtual;
!     function ReadBinaryStream(const Section, Name: string; Value: TStream): Integer; virtual;
!     function ReadDate(const Section, Name: string; Default: TDateTime): TDateTime; virtual;
!     function ReadDateTime(const Section, Name: string; Default: TDateTime): TDateTime; virtual;
!     function ReadFloat(const Section, Name: string; Default: Double): Double; virtual;
!     function ReadTime(const Section, Name: string; Default: TDateTime): TDateTime; virtual;
!     procedure WriteBinaryStream(const Section, Name: string; Value: TStream); virtual;
!     procedure WriteDate(const Section, Name: string; Value: TDateTime); virtual;
!     procedure WriteDateTime(const Section, Name: string; Value: TDateTime); virtual;
!     procedure WriteFloat(const Section, Name: string; Value: Double); virtual;
!     procedure WriteTime(const Section, Name: string; Value: TDateTime); virtual;
!     procedure ReadSection(const Section: string; Strings: TStrings); virtual; abstract;
      procedure ReadSections(Strings: TStrings); virtual; abstract;
!     procedure ReadSectionValues(const Section: string; Strings: TStrings); virtual; abstract;
!     procedure EraseSection(const Section: string); virtual; abstract;
!     procedure DeleteKey(const Section, Name: String); virtual; abstract;
      procedure UpdateFile; virtual; abstract;
!     function ValueExists(const Section, Name: string): Boolean;
      property FileName: string read FFileName;
    end;
--- 20,48 ----
      FFileName: string;
    public
!     constructor Create(FileName: string);
!     function SectionExists(Section: string): Boolean;
!     function ReadString(Section, Name, Default: string): string; virtual; abstract;
!     procedure WriteString(Section, Name, Value: String); virtual; abstract;
!     function ReadInteger(Section, Name: string; Default: Longint): Longint; virtual;
!     procedure WriteInteger(Section, Name: string; Value: Longint); virtual;
!     function ReadBool(Section, Name: string; Default: Boolean): Boolean; virtual;
!     procedure WriteBool(Section, Name: string; Value: Boolean); virtual;
!     function ReadBinaryStream(Section, Name: string; Value: TStream): Integer; virtual;
!     function ReadDate(Section, Name: string; Default: TDateTime): TDateTime; virtual;
!     function ReadDateTime(Section, Name: string; Default: TDateTime): TDateTime; virtual;
!     function ReadFloat(Section, Name: string; Default: Double): Double; virtual;
!     function ReadTime(Section, Name: string; Default: TDateTime): TDateTime; virtual;
!     procedure WriteBinaryStream(Section, Name: string; Value: TStream); virtual;
!     procedure WriteDate(Section, Name: string; Value: TDateTime); virtual;
!     procedure WriteDateTime(Section, Name: string; Value: TDateTime); virtual;
!     procedure WriteFloat(Section, Name: string; Value: Double); virtual;
!     procedure WriteTime(Section, Name: string; Value: TDateTime); virtual;
!     procedure ReadSection(Section: string; Strings: TStrings); virtual; abstract;
      procedure ReadSections(Strings: TStrings); virtual; abstract;
!     procedure ReadSectionValues(Section: string; Strings: TStrings); virtual; abstract;
!     procedure EraseSection(Section: string); virtual; abstract;
!     procedure DeleteKey(Section, Name: String); virtual; abstract;
      procedure UpdateFile; virtual; abstract;
!     function ValueExists(Section, Name: string): Boolean;
      property FileName: string read FFileName;
    end;
***************
*** 55,75 ****
    private
      FSections: TStringList;
!     function AddSection(const Section: string): TStrings;
      procedure LoadValues;
    public
!     constructor Create(const FileName: string);
      procedure Free;reintroduce;
      procedure Clear;
!     procedure DeleteKey(const Section, Name: String); override;
!     procedure EraseSection(const Section: string); override;
      procedure GetStrings(List: TStrings);
!     procedure ReadSection(const Section: string; Strings: TStrings); override;
      procedure ReadSections(Strings: TStrings); override;
!     procedure ReadSectionValues(const Section: string; Strings: TStrings); override;
!     function ReadString(const Section, Name, Default: string): string; override;
!     procedure Rename(const FileName: string; Reload: Boolean);
      procedure SetStrings(List: TStrings);
      procedure UpdateFile; override;
!     procedure WriteString(const Section, Name, Value: String); override;
    end;
    
--- 55,75 ----
    private
      FSections: TStringList;
!     function AddSection(Section: string): TStrings;
      procedure LoadValues;
    public
!     constructor Create(FileName: string);
      procedure Free;reintroduce;
      procedure Clear;
!     procedure DeleteKey(Section, Name: String); override;
!     procedure EraseSection(Section: string); override;
      procedure GetStrings(List: TStrings);
!     procedure ReadSection(Section: string; Strings: TStrings); override;
      procedure ReadSections(Strings: TStrings); override;
!     procedure ReadSectionValues(Section: string; Strings: TStrings); override;
!     function ReadString(Section, Name, Default: string): string; override;
!     procedure Rename(FileName: string; Reload: Boolean);
      procedure SetStrings(List: TStrings);
      procedure UpdateFile; override;
!     procedure WriteString(Section, Name, Value: String); override;
    end;
    
***************
*** 80,84 ****
  
  { TCustomIniFile }
! constructor TCustomIniFile.Create(const FileName: string); 
  begin
    inherited Create;
--- 80,84 ----
  
  { TCustomIniFile }
! constructor TCustomIniFile.Create(FileName: string); 
  begin
    inherited Create;
***************
*** 86,90 ****
  end;
  
! function TCustomIniFile.SectionExists(const Section: string): Boolean; 
  var S:TStringlist;
  begin
--- 86,90 ----
  end;
  
! function TCustomIniFile.SectionExists(Section: string): Boolean; 
  var S:TStringlist;
  begin
***************
*** 94,98 ****
  end;
  
! function TCustomIniFile.ReadInteger(const Section, Name: string; Default: Longint): Longint; 
  var S:string;
  begin
--- 94,98 ----
  end;
  
! function TCustomIniFile.ReadInteger(Section, Name: string; Default: Longint): Longint; 
  var S:string;
  begin
***************
*** 103,127 ****
  end;
  
! procedure TCustomIniFile.WriteInteger(const Section, Name: string; Value: Longint); 
  begin
    WriteString(Section, Name, Value.ToString);
  end;
  
! function TCustomIniFile.ReadBool(const Section, Name: string; Default: Boolean): Boolean; 
  begin
    Result := ReadInteger(Section, Name, Ord(Default)) &lt;&gt; 0;
  end;
  
! procedure TCustomIniFile.WriteBool(const Section, Name: string; Value: Boolean); 
  begin
    WriteInteger(Section, Name, Ord(Value));
  end;
  
! function TCustomIniFile.ReadBinaryStream(const Section, Name: string; Value: TStream): Integer; 
  begin
    NotImplemented;
  end;
  
! function TCustomIniFile.ReadDate(const Section, Name: string; Default: TDateTime): TDateTime; 
  begin
    Result := ReadDateTime(Section, Name, Default);
--- 103,127 ----
  end;
  
! procedure TCustomIniFile.WriteInteger(Section, Name: string; Value: Longint); 
  begin
    WriteString(Section, Name, Value.ToString);
  end;
  
! function TCustomIniFile.ReadBool(Section, Name: string; Default: Boolean): Boolean; 
  begin
    Result := ReadInteger(Section, Name, Ord(Default)) &lt;&gt; 0;
  end;
  
! procedure TCustomIniFile.WriteBool(Section, Name: string; Value: Boolean); 
  begin
    WriteInteger(Section, Name, Ord(Value));
  end;
  
! function TCustomIniFile.ReadBinaryStream(Section, Name: string; Value: TStream): Integer; 
  begin
    NotImplemented;
  end;
  
! function TCustomIniFile.ReadDate(Section, Name: string; Default: TDateTime): TDateTime; 
  begin
    Result := ReadDateTime(Section, Name, Default);
***************
*** 129,138 ****
  end;
  
! function TCustomIniFile.ReadDateTime(const Section, Name: string; Default: TDateTime): TDateTime; 
  begin
    Result := StrToDateTimeDef(ReadString(Section, Name, ''), Default);
  end;
  
! function TCustomIniFile.ReadFloat(const Section, Name: string; Default: Double): Double; 
  var S:string;
  begin
--- 129,138 ----
  end;
  
! function TCustomIniFile.ReadDateTime(Section, Name: string; Default: TDateTime): TDateTime; 
  begin
    Result := StrToDateTimeDef(ReadString(Section, Name, ''), Default);
  end;
  
! function TCustomIniFile.ReadFloat(Section, Name: string; Default: Double): Double; 
  var S:string;
  begin
***************
*** 149,153 ****
  end;
  
! function TCustomIniFile.ReadTime(const Section, Name: string; Default: TDateTime): TDateTime; 
  begin
    Result := StrToDateTimeDef(ReadString(Section, Name, ''), Default);
--- 149,153 ----
  end;
  
! function TCustomIniFile.ReadTime(Section, Name: string; Default: TDateTime): TDateTime; 
  begin
    Result := StrToDateTimeDef(ReadString(Section, Name, ''), Default);
***************
*** 155,164 ****
  end;
  
! procedure TCustomIniFile.WriteBinaryStream(const Section, Name: string; Value: TStream); 
  begin
    NotImplemented;
  end;
  
! procedure TCustomIniFile.WriteDate(const Section, Name: string; Value: TDateTime); 
  begin
    Value.Time := 0;
--- 155,164 ----
  end;
  
! procedure TCustomIniFile.WriteBinaryStream(Section, Name: string; Value: TStream); 
  begin
    NotImplemented;
  end;
  
! procedure TCustomIniFile.WriteDate(Section, Name: string; Value: TDateTime); 
  begin
    Value.Time := 0;
***************
*** 166,180 ****
  end;
  
! procedure TCustomIniFile.WriteDateTime(const Section, Name: string; Value: TDateTime); 
  begin
    WriteString(Section, Name, Value.ToString);
  end;
  
! procedure TCustomIniFile.WriteFloat(const Section, Name: string; Value: Double); 
  begin
    WriteString(Section, Name, Value.ToString);
  end;
  
! procedure TCustomIniFile.WriteTime(const Section, Name: string; Value: TDateTime); 
  begin
    Value.Date := 0;
--- 166,180 ----
  end;
  
! procedure TCustomIniFile.WriteDateTime(Section, Name: string; Value: TDateTime); 
  begin
    WriteString(Section, Name, Value.ToString);
  end;
  
! procedure TCustomIniFile.WriteFloat(Section, Name: string; Value: Double); 
  begin
    WriteString(Section, Name, Value.ToString);
  end;
  
! procedure TCustomIniFile.WriteTime(Section, Name: string; Value: TDateTime); 
  begin
    Value.Date := 0;
***************
*** 182,186 ****
  end;
  
! function TCustomIniFile.ValueExists(const Section, Name: string): Boolean; 
  var
    S: TStringlist;
--- 182,186 ----
  end;
  
! function TCustomIniFile.ValueExists(Section, Name: string): Boolean; 
  var
    S: TStringlist;
***************
*** 193,197 ****
  { TMemIniFile }
  
! function TMemIniFile.AddSection(const Section: string): TStrings; 
  var i:integer;
  begin
--- 193,197 ----
  { TMemIniFile }
  
! function TMemIniFile.AddSection(Section: string): TStrings; 
  var i:integer;
  begin
***************
*** 216,220 ****
  end;
  
! constructor TMemIniFile.Create(const FileName: string); 
  begin
    inherited Create(Filename);
--- 216,220 ----
  end;
  
! constructor TMemIniFile.Create(FileName: string); 
  begin
    inherited Create(Filename);
***************
*** 234,238 ****
  end;
  
! procedure TMemIniFile.DeleteKey(const Section, Name: String); 
  var i, j:integer;
  begin
--- 234,238 ----
  end;
  
! procedure TMemIniFile.DeleteKey(Section, Name: String); 
  var i, j:integer;
  begin
***************
*** 248,252 ****
  end;
  
! procedure TMemIniFile.EraseSection(const Section: string); 
  var i:integer;
  begin
--- 248,252 ----
  end;
  
! procedure TMemIniFile.EraseSection(Section: string); 
  var i:integer;
  begin
***************
*** 267,271 ****
  end;
  
! procedure TMemIniFile.ReadSection(const Section: string; Strings: TStrings); 
  var i:integer;
  begin
--- 267,271 ----
  end;
  
! procedure TMemIniFile.ReadSection(Section: string; Strings: TStrings); 
  var i:integer;
  begin
***************
*** 282,286 ****
  end;
  
! procedure TMemIniFile.ReadSectionValues(const Section: string; Strings: TStrings); 
  var i:integer;
  begin
--- 282,286 ----
  end;
  
! procedure TMemIniFile.ReadSectionValues(Section: string; Strings: TStrings); 
  var i:integer;
  begin
***************
*** 291,295 ****
  end;
  
! function TMemIniFile.ReadString(const Section, Name, Default: string): string; 
  var 
    i:integer;
--- 291,295 ----
  end;
  
! function TMemIniFile.ReadString(Section, Name, Default: string): string; 
  var 
    i:integer;
***************
*** 307,311 ****
  end;
  
! procedure TMemIniFile.Rename(const FileName: string; Reload: Boolean); 
  begin
    FFilename := Filename;
--- 307,311 ----
  end;
  
! procedure TMemIniFile.Rename(FileName: string; Reload: Boolean); 
  begin
    FFilename := Filename;
***************
*** 349,353 ****
  end;
  
! procedure TMemIniFile.WriteString(const Section, Name, Value: String); 
  var 
    S:TStrings;
--- 349,353 ----
  end;
  
! procedure TMemIniFile.WriteString(Section, Name, Value: String); 
  var 
    S:TStrings;

Index: SysUtils.pas
===================================================================
RCS file: /cvsroot/shineon/ShineOn/ShineOn.RTL/SysUtils.pas,v
retrieving revision 1.7
retrieving revision 1.8
diff -C2 -d -r1.7 -r1.8
*** SysUtils.pas	26 May 2005 14:30:08 -0000	1.7
--- SysUtils.pas	26 May 2005 23:44:35 -0000	1.8
***************
*** 22,31 ****
    SysUtils = public sealed class
    public
!     class function AnsiUpperCase(const S: string): string;
!     class function AnsiLowerCase(const S: string): string;
!     class function AnsiCompareStr(const S1, S2: string): Integer;
!     class function AnsiSameStr(const S1, S2: string): Boolean;
!     class function AnsiCompareText(const S1, S2: string): Integer;
!     class function AnsiSameText(const S1, S2: string): Boolean;
      class function AnsiStrComp(S1, S2: string): Integer;
      class function AnsiStrIComp(S1, S2: string): Integer;
[...1687 lines suppressed...]
    
! function StringReplace(const S, OldPattern, NewPattern: string; Flags: TReplaceFlags): string;
  begin
    Result := ShineOn.RTL.SysUtils.StringReplace(S, OldPattern, NewPattern, Flags);
  end;
    
! function GetEnvironmentVariable(const Name: string): string;   
  begin
    Result := ShineOn.RTL.SysUtils.GetEnvironmentVariable(Name);
--- 1214,1223 ----
  end;
    
! function StringReplace(S, OldPattern, NewPattern: string; Flags: TReplaceFlags): string;
  begin
    Result := ShineOn.RTL.SysUtils.StringReplace(S, OldPattern, NewPattern, Flags);
  end;
    
! function GetEnvironmentVariable(Name: string): string;   
  begin
    Result := ShineOn.RTL.SysUtils.GetEnvironmentVariable(Name);

Index: System.pas
===================================================================
RCS file: /cvsroot/shineon/ShineOn/ShineOn.RTL/System.pas,v
retrieving revision 1.5
retrieving revision 1.6
diff -C2 -d -r1.5 -r1.6
*** System.pas	26 May 2005 23:40:04 -0000	1.5
--- System.pas	26 May 2005 23:44:35 -0000	1.6
***************
*** 18,29 ****
    System = public sealed class 
    public
!     class function Pos(const SubStr, Str:string):integer;
!     class function Concat(const S1, S2:string):string;
      class procedure Delete(var S: string; Index, Count:Integer);
!     class procedure Insert(const Source: string; var S: string; Index: Integer);
!     class function Copy(const Source:string; StartIndex, Length: Integer):string;
  
      class procedure Str(X:Double; Width:integer;Decimals:integer;var S:string);
!     class procedure Val(const S:string; var V:Double; var Code: Integer);
  
      class function Ord(Value:Char):integer;
--- 18,29 ----
    System = public sealed class 
    public
!     class function Pos(SubStr, Str:string):integer;
!     class function Concat(S1, S2:string):string;
      class procedure Delete(var S: string; Index, Count:Integer);
!     class procedure Insert(Source: string; var S: string; Index: Integer);
!     class function Copy(Source:string; StartIndex, Length: Integer):string;
  
      class procedure Str(X:Double; Width:integer;Decimals:integer;var S:string);
!     class procedure Val(S:string; var V:Double; var Code: Integer);
  
      class function Ord(Value:Char):integer;
***************
*** 58,74 ****
  
      class procedure SetLength(var S; Length: integer);
!     class procedure Write(const S:string);
!     class procedure WriteLn(const S:string);
      class procedure Read(var P);
      class procedure ReadLn(var P);
    end;
    
! function Pos(const SubStr, Str:string):integer;
! function Concat(const S1, S2:string):string;
  procedure Delete(var S: string; Index, Count:Integer);
! procedure Insert(const Source: string; var S: string; Index: Integer);
! function Copy(const Source:string; StartIndex, Length: Integer):string;
  procedure Str(X:Double; Width:integer;Decimals:integer;var S:string);
! procedure Val(const S:string; var V:Double; var Code: Integer);
  function Ord(Value:Char):integer;
  function Ord(Value:Boolean):integer;
--- 58,74 ----
  
      class procedure SetLength(var S; Length: integer);
!     class procedure Write(S:string);
!     class procedure WriteLn(S:string);
      class procedure Read(var P);
      class procedure ReadLn(var P);
    end;
    
! function Pos(SubStr, Str:string):integer;
! function Concat(S1, S2:string):string;
  procedure Delete(var S: string; Index, Count:Integer);
! procedure Insert(Source: string; var S: string; Index: Integer);
! function Copy(Source:string; StartIndex, Length: Integer):string;
  procedure Str(X:Double; Width:integer;Decimals:integer;var S:string);
! procedure Val(S:string; var V:Double; var Code: Integer);
  function Ord(Value:Char):integer;
  function Ord(Value:Boolean):integer;
***************
*** 93,98 ****
  function Exp(X: Double): Double;
  procedure SetLength(var S; Length: integer);
! procedure Write(const S:string);
! procedure WriteLn(const S:string);
  procedure Read(var P);
  procedure ReadLn(var P);
--- 93,98 ----
  function Exp(X: Double): Double;
  procedure SetLength(var S; Length: integer);
! procedure Write(S:string);
! procedure WriteLn(S:string);
  procedure Read(var P);
  procedure ReadLn(var P);
***************
*** 102,106 ****
  
  
! class function System.Pos(const SubStr, Str:string):integer;
  begin
    //TODO: Should this function return 0 or -1 if substr not found?
--- 102,106 ----
  
  
! class function System.Pos(SubStr, Str:string):integer;
  begin
    //TODO: Should this function return 0 or -1 if substr not found?
***************
*** 108,112 ****
  end;
  
! class function System.Concat(const S1, S2:string):string;
  begin
    Result := S1 + S2;
--- 108,112 ----
  end;
  
! class function System.Concat(S1, S2:string):string;
  begin
    Result := S1 + S2;
***************
*** 123,127 ****
  end;
  
! class function System.Copy(const Source:string; StartIndex, Length: Integer):string;
  begin
    if Source = nil then
--- 123,127 ----
  end;
  
! class function System.Copy(Source:string; StartIndex, Length: Integer):string;
  begin
    if Source = nil then
***************
*** 136,140 ****
  end;
  
! class procedure System.Val(const S:string; var V:Double; var Code: Integer);
  begin
    // TODO: should we use NumberFormatInfo.CurrentInfo here?
--- 136,140 ----
  end;
  
! class procedure System.Val(S:string; var V:Double; var Code: Integer);
  begin
    // TODO: should we use NumberFormatInfo.CurrentInfo here?
***************
*** 297,306 ****
  end;
  
! class procedure System.WriteLn(const S:string);
  begin
    Console.WriteLine(S);
  end;
  
! class procedure System.Write(const S:string);
  begin
    Console.Write(S);
--- 297,306 ----
  end;
  
! class procedure System.WriteLn(S:string);
  begin
    Console.WriteLine(S);
  end;
  
! class procedure System.Write(S:string);
  begin
    Console.Write(S);
***************
*** 324,333 ****
  // DELPHI COMPATIBLE GLOBAL METHODS
  
! function Pos(const SubStr, Str:string):integer;
  begin
    Result := ShineOn.RTL.System.Pos(SubStr, Str);
  end;
    
! function Concat(const S1, S2:string):string;
  begin
    Result := ShineOn.RTL.System.Concat(S1, S2);
--- 324,333 ----
  // DELPHI COMPATIBLE GLOBAL METHODS
  
! function Pos(SubStr, Str:string):integer;
  begin
    Result := ShineOn.RTL.System.Pos(SubStr, Str);
  end;
    
! function Concat(S1, S2:string):string;
  begin
    Result := ShineOn.RTL.System.Concat(S1, S2);
***************
*** 339,348 ****
  end;
    
! procedure Insert(const Source: string; var S: string; Index: Integer);
  begin
    ShineOn.RTL.System.Insert(Source, S, Index);
  end;
    
! function Copy(const Source:string; StartIndex, Length: Integer):string;
  begin
    Result := ShineOn.RTL.System.Copy(Source, StartIndex, Length);
--- 339,348 ----
  end;
    
! procedure Insert(Source: string; var S: string; Index: Integer);
  begin
    ShineOn.RTL.System.Insert(Source, S, Index);
  end;
    
! function Copy(Source:string; StartIndex, Length: Integer):string;
  begin
    Result := ShineOn.RTL.System.Copy(Source, StartIndex, Length);
***************
*** 354,358 ****
  end;
    
! procedure Val(const S:string; var V:Double; var Code: Integer);
  begin
    ShineOn.RTL.System.Val(S, V, Code);
--- 354,358 ----
  end;
    
! procedure Val(S:string; var V:Double; var Code: Integer);
  begin
    ShineOn.RTL.System.Val(S, V, Code);
***************
*** 485,494 ****
  end;
    
! procedure Write(const S:string);
  begin
    ShineOn.RTL.System.Write(S);
  end;
    
! procedure WriteLn(const S:string);
  begin
    ShineOn.RTL.System.WriteLn(S);
--- 485,494 ----
  end;
    
! procedure Write(S:string);
  begin
    ShineOn.RTL.System.Write(S);
  end;
    
! procedure WriteLn(S:string);
  begin
    ShineOn.RTL.System.WriteLn(S);

Index: Types.pas
===================================================================
RCS file: /cvsroot/shineon/ShineOn/ShineOn.RTL/Types.pas,v
retrieving revision 1.5
retrieving revision 1.6
diff -C2 -d -r1.5 -r1.6
*** Types.pas	26 May 2005 14:30:08 -0000	1.5
--- Types.pas	26 May 2005 23:44:35 -0000	1.6
***************
*** 191,195 ****
  
    TNotifyEvent = public procedure(Sender: Object) of object;
!   TGetStrProc = public procedure(const S: string) of object;
  
  { Exception classes }
--- 191,195 ----
  
    TNotifyEvent = public procedure(Sender: Object) of object;
!   TGetStrProc = public procedure(S: string) of object;
  
  { Exception classes }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000015.html">[Shineon-checkins] ShineOn/ShineOn.RTL Globals.pas,1.1,1.2
</A></li>
	<LI>Next message: <A HREF="000017.html">[Shineon-checkins] ShineOn/ShineOn.RTL Classes.pas,1.8,1.9 Globals.pas,1.3,1.4 SysUtils.pas,1.8,1.9 System.pas,1.6,1.7 Types.pas,1.6,1.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16">[ date ]</a>
              <a href="thread.html#16">[ thread ]</a>
              <a href="subject.html#16">[ subject ]</a>
              <a href="author.html#16">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/shineon-checkins">More information about the Shineon-checkins
mailing list</a><br>
</body></html>
